<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
</head>

<style>
  #header {
    display: flex;
    box-shadow: 10px 5px 20px 5px;
    transition: 0.5s;
    background-color: white;
  }

  .div1 {
    display: flex;
    justify-content: center;
    gap: 10rem;
  }

  .div2 {
    display: flex;
    gap: 3rem;

  }

  .a1 {
    position: relative;
    top: 2rem;
    font-size: 1.rem;
    transition: 0.5s;
  }

  .a2 {
    position: relative;
    top: 2rem;
    font-size: 1.rem;
  }

  .a3 {
    position: relative;
    top: 2rem;
    font-size: 1.rem;
  }

  .hunter {
    position: relative;
    top: 2rem;
    text-align: center;
    font-size: 1.5rem;
  }

  .p1 {
    border: none;
    width: 100px;
    height: 30px;
    text-align: center;
    border-radius: 15px;
    background-color: #00abf0;
    transition: 0.5s;
    font-size: 1.5rem;

  }

  

  .p2 {
    border: none;
    width: 100px;
    height: 30px;
    text-align: center;
    border-radius: 15px;
    transition: 0.5s;
    font-size: 1.5rem;
    background-color: #00abf0;

  }


  body {
    background-image: url(./q2.jpg);
    background-size: cover;
  }

  .jp1 {
    position: absolute;
    top: 40%;
    left: 40%;
    font-size: 3rem;
  }

  .hs {
    position: absolute;
    bottom: 75%;
  }

  .mm {
    font-size: 1.2rem;
    position: relative;
    top: 1rem;
    right: 10rem;
  }

  .cov {
    cursor: pointer;
    font-size: 2rem;
    width: 270px;
    height: 50px;
    border-radius: 25px;
    border: none;
    background-color: rgb(221, 74, 21);
    transition: 0.5s;
  }

  .cov:hover {
    background-color: #00abf0;
  }
  
.jp1{
  position: absolute;
top: 42%;

}
.cov {
  position: absolute;
  right: 57%;
  top: 10rem;
    cursor: pointer;
    font-size: 1.8rem;
    width: 270px;
    height: 50px;
    border-radius: 25px;
    border: none;
     background-color: #00abf0;
    transition: 0.5s;
  }

  .cov:hover {
    background-color: rgb(221, 74, 21);
   
  }
</style>

<body>
  <header id="header">
    <div class="div1">
      <a href="index.html" style="text-decoration: none;"><p style="font-size: 1.5rem; color:  #00abf0;">Home</p></a>
      <a href="index2.html" class="a1" style="text-decoration: none; color: black; cursor: pointer;">JPG TO PDF</a>
      <a href="" class="a2" style="text-decoration: none; color: black; cursor: pointer;">PDF TO JPG</a>
      <a href="index1.html" class="a3" style="text-decoration: none; color: black; cursor: pointer;">IMAGE TO PDF</a>
      <div class="div2">
        <a href="index3.html" style="text-decoration: none; color: black;"><p class="p1" style="cursor: pointer;">login</p></a>
        <a href="index5.html" style="text-decoration: none; color: black;"><p class="p1" style="cursor: pointer;">Sign up</p></a>
      </div>
    </div>

    <main class="jp1">
      <div class="hs1">
        <p class="hs">PDF TO JPG</p>
        <p class="mm">Convert JPG images to PDF in seconds. Easily adjust orientation and margins.</p>
      </div>
        <h2></h2>
  <input type="file" id="pdfInput" accept="application/pdf" style="position:relative;top: rem; height: 100px; font-size: 1.5rem;  color: rgb(240, 86, 25);">
  <button onclick="convertPdfToJpg()" class="cov">Download Image</button>
  <div id="output"></div>
    </main>

    <script>

      async function convertPdfToJpg() {
      const fileInput = document.getElementById('pdfInput');
      const file = fileInput.files[0];
      if (!file) {
        alert("Please select a PDF file.");
        return;
      }

      const reader = new FileReader();
      reader.onload = async function () {
        const typedArray = new Uint8Array(reader.result);
        const pdf = await pdfjsLib.getDocument({ data: typedArray }).promise;

        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
          const page = await pdf.getPage(pageNum);
          const scale = 2; // Higher scale = better quality
          const viewport = page.getViewport({ scale });

          const canvas = document.createElement("canvas");
          const context = canvas.getContext("2d");
          canvas.width = viewport.width;
          canvas.height = viewport.height;

          await page.render({ canvasContext: context, viewport }).promise;

          // Convert canvas to JPG and trigger download
          const imgData = canvas.toDataURL("image/jpeg");

          const link = document.createElement("a");
          link.href = imgData;
          link.download = `page_${pageNum}.jpg`;
          link.textContent = `Download JPG Page ${pageNum}`;
          document.getElementById("output").appendChild(link);
          document.getElementById("output").appendChild(document.createElement("br"));
        }
      };
      reader.readAsArrayBuffer(file);
    }
    </script>
</body>

</html>